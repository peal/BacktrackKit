<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<title>GAP (BacktrackKit) - Chapter 3: Implementation</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="generator" content="GAPDoc2HTML" />
<link rel="stylesheet" type="text/css" href="manual.css" />
<script src="manual.js" type="text/javascript"></script>
<script type="text/javascript">overwriteStyle();</script>
</head>
<body class="chap3"  onload="jscontent()">


<div class="chlinktop"><span class="chlink1">Goto Chapter: </span><a href="chap0_mj.html">Top</a>  <a href="chap1_mj.html">1</a>  <a href="chap2_mj.html">2</a>  <a href="chap3_mj.html">3</a>  <a href="chap4_mj.html">4</a>  <a href="chap5_mj.html">5</a>  <a href="chap6_mj.html">6</a>  <a href="chap7_mj.html">7</a>  <a href="chap8_mj.html">8</a>  <a href="chapBib_mj.html">Bib</a>  <a href="chapInd_mj.html">Ind</a>  </div>

<div class="chlinkprevnexttop">&nbsp;<a href="chap0_mj.html">[Top of Book]</a>&nbsp;  <a href="chap0_mj.html#contents">[Contents]</a>&nbsp;  &nbsp;<a href="chap2_mj.html">[Previous Chapter]</a>&nbsp;  &nbsp;<a href="chap4_mj.html">[Next Chapter]</a>&nbsp;  </div>

<p id="mathjaxlink" class="pcenter"><a href="chap3.html">[MathJax off]</a></p>
<p><a id="X78289A737AF28B39" name="X78289A737AF28B39"></a></p>
<div class="ChapSects"><a href="chap3_mj.html#X78289A737AF28B39">3 <span class="Heading">Implementation</span></a>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap3_mj.html#X819E3E3080297347">3.1 <span class="Heading">State</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X814E8F697AE9D4F5">3.1-1 IsBacktrackableState</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X7C7D9033781D77AC">3.1-2 IsBTKitState</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X7D7DBACA829515F8">3.1-3 BacktrackableStateFamily</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X7ABE73598213E222">3.1-4 BTKitStateType</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X7DE94FB47EE37BBE">3.1-5 SaveState</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X7D014EF28041BE26">3.1-6 RestoreState</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X7C4A9E91849CB9B3">3.1-7 ConsolidateState</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap3_mj.html#X8545C495874AE809">3.2 <span class="Heading">Applying refiners</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X807FF70880EE34CF">3.2-1 InitialiseConstraints</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X80E5399E7D4BF31A">3.2-2 RefineConstraints</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X7BF188D085316F4E">3.2-3 FinaliseRBaseForConstraints</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X8170C6EA85B072C5">3.2-4 ApplyFilters</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap3_mj.html#X7BFE8AF77D5711DB">3.3 <span class="Heading">Currently unorganised stuff</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X84708DA6801CA1BF">3.3-1 BTKit_BuildProblem</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X7DCD7DBC7949698F">3.3-2 FirstFixedPoint</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X808033DB806C2A8A">3.3-3 BuildRBase</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X86C78160854C7F30">3.3-4 Backtrack</a></span>
</div></div>
</div>

<h3>3 <span class="Heading">Implementation</span></h3>

<p><a id="X819E3E3080297347" name="X819E3E3080297347"></a></p>

<h4>3.1 <span class="Heading">State</span></h4>

<p><a id="X814E8F697AE9D4F5" name="X814E8F697AE9D4F5"></a></p>

<h5>3.1-1 IsBacktrackableState</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsBacktrackableState</code>( <var class="Arg">arg</var> )</td><td class="tdright">(&nbsp;filter&nbsp;)</td></tr></table></div>
<p>Returns: <code class="keyw">true</code> or <code class="keyw">false</code></p>

<p><a id="X7C7D9033781D77AC" name="X7C7D9033781D77AC"></a></p>

<h5>3.1-2 IsBTKitState</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsBTKitState</code>( <var class="Arg">arg</var> )</td><td class="tdright">(&nbsp;filter&nbsp;)</td></tr></table></div>
<p>Returns: <code class="keyw">true</code> or <code class="keyw">false</code></p>

<p><a id="X7D7DBACA829515F8" name="X7D7DBACA829515F8"></a></p>

<h5>3.1-3 BacktrackableStateFamily</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; BacktrackableStateFamily</code></td><td class="tdright">(&nbsp;global variable&nbsp;)</td></tr></table></div>
<p><a id="X7ABE73598213E222" name="X7ABE73598213E222"></a></p>

<h5>3.1-4 BTKitStateType</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; BTKitStateType</code></td><td class="tdright">(&nbsp;global variable&nbsp;)</td></tr></table></div>
<p><a id="X7DE94FB47EE37BBE" name="X7DE94FB47EE37BBE"></a></p>

<h5>3.1-5 SaveState</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; SaveState</code>( <var class="Arg">arg</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: The saved state</p>

<p>Return a small object which allows one to revert to this state from later the search.</p>

<p><a id="X7D014EF28041BE26" name="X7D014EF28041BE26"></a></p>

<h5>3.1-6 RestoreState</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RestoreState</code>( <var class="Arg">state</var>, <var class="Arg">saved</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: Nothing</p>

<p>Revert to a saved state from later in the search. The first argument <var class="Arg">state</var> must be the current state object, and the second argument <var class="Arg">saved</var> must be one of the objects produced by <code class="func">SaveState</code> (<a href="chap3_mj.html#X7DE94FB47EE37BBE"><span class="RefLink">3.1-5</span></a>) from earlier in the search.</p>

<p><a id="X7C4A9E91849CB9B3" name="X7C4A9E91849CB9B3"></a></p>

<h5>3.1-7 ConsolidateState</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ConsolidateState</code>( <var class="Arg">arg1</var>, <var class="Arg">arg2</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Some implementations of <code class="code">BacktrackableState</code> can perform simplifications. This function gives a well-defined point for such operations to be performed. It can be ignored by implementations without such simplifications.</p>

<p><a id="X8545C495874AE809" name="X8545C495874AE809"></a></p>

<h4>3.2 <span class="Heading">Applying refiners</span></h4>

<p><a id="X807FF70880EE34CF" name="X807FF70880EE34CF"></a></p>

<h5>3.2-1 InitialiseConstraints</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; InitialiseConstraints</code>( <var class="Arg">state</var>, <var class="Arg">tracer</var>, <var class="Arg">rbase</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>Returns: <code class="keyw">true</code> or <code class="keyw">false</code></p>

<p>Set up the list of constraints in <code class="code"><var class="Arg">state</var>.conlist</code>, using their <code class="code">refine.initialise</code> members. This should be called once at the start of RBase creation, and once at the start of search. During search, if the branch of search becomes inconsistent with the RBase, then this function returns <code class="keyw">false</code>. Otherwise, this function returns <code class="keyw">true</code>.</p>

<p>The second and third arguments <var class="Arg">tracer</var> and <var class="Arg">rbase</var> should be as in <code class="func">RefineConstraints</code> (<a href="chap3_mj.html#X80E5399E7D4BF31A"><span class="RefLink">3.2-2</span></a>).</p>

<p><a id="X80E5399E7D4BF31A" name="X80E5399E7D4BF31A"></a></p>

<h5>3.2-2 RefineConstraints</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RefineConstraints</code>( <var class="Arg">state</var>, <var class="Arg">tracer</var>, <var class="Arg">rbase</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>Returns: <code class="keyw">true</code> or <code class="keyw">false</code></p>

<p>Refine the partition stack <code class="code"><var class="Arg">state</var>.ps</code> according to the list of constraints in <code class="code"><var class="Arg">state</var>.conlist</code>, until it is not possible to use them to refine the current partition stack any further, or until the branch of search becomes inconsistent with the RBase. In the former case, this function returns <code class="keyw">true</code>, and in the latter case, this function returns <code class="keyw">false</code>.</p>

<p>During RBase creation, the second argument <var class="Arg">tracer</var> must be a recording tracer, and the third argument <var class="Arg">rbase</var> must be <code class="keyw">true</code>. During search, the second argument should be a tracer following the corresponding RBase tracer, and the third argument <var class="Arg">rbase</var> should be <code class="keyw">false</code>.</p>

<p><a id="X7BF188D085316F4E" name="X7BF188D085316F4E"></a></p>

<h5>3.2-3 FinaliseRBaseForConstraints</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; FinaliseRBaseForConstraints</code>( <var class="Arg">arg</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>Set up a list of constraints. This should be called once, at the start of search after all constraints have been created.</p>

<p><a id="X8170C6EA85B072C5" name="X8170C6EA85B072C5"></a></p>

<h5>3.2-4 ApplyFilters</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ApplyFilters</code>( <var class="Arg">ps</var>, <var class="Arg">tracer</var>, <var class="Arg">filter</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: <code class="keyw">true</code> or <code class="keyw">false</code></p>

<p>Split the cells of the partition stack <var class="Arg">ps</var>, if possible, according to a given <var class="Arg">filter</var>. If the filter is <code class="keyw">fail</code>, or if the split is rejected by the <var class="Arg">tracer</var>, then this function returns <code class="keyw">false</code>. Otherwise, the split is applied and is consistent with the <var class="Arg">tracer</var>, and this function returns <code class="keyw">true</code>.</p>

<p><a id="X7BFE8AF77D5711DB" name="X7BFE8AF77D5711DB"></a></p>

<h4>3.3 <span class="Heading">Currently unorganised stuff</span></h4>

<p><a id="X84708DA6801CA1BF" name="X84708DA6801CA1BF"></a></p>

<h5>3.3-1 BTKit_BuildProblem</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; BTKit_BuildProblem</code>( <var class="Arg">arg</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>Takes a partition stack and a list of constraints and builds a 'Problem', Which can then be solved by passing the 'Problem' to <code class="func">BTKit_SimpleSearch</code> (<a href="chap2_mj.html#X872942DA83EC6949"><span class="RefLink">2.1-1</span></a>) or <code class="func">BTKit_SimpleSinglePermSearch</code> (<a href="chap2_mj.html#X7ECFC9E08380AE26"><span class="RefLink">2.1-2</span></a>).</p>

<p><a id="X7DCD7DBC7949698F" name="X7DCD7DBC7949698F"></a></p>

<h5>3.3-2 FirstFixedPoint</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; FirstFixedPoint</code>( <var class="Arg">arg</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p><a id="X808033DB806C2A8A" name="X808033DB806C2A8A"></a></p>

<h5>3.3-3 BuildRBase</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; BuildRBase</code>( <var class="Arg">arg</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p><a id="X86C78160854C7F30" name="X86C78160854C7F30"></a></p>

<h5>3.3-4 Backtrack</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; Backtrack</code>( <var class="Arg">arg</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>

<div class="chlinkprevnextbot">&nbsp;<a href="chap0_mj.html">[Top of Book]</a>&nbsp;  <a href="chap0_mj.html#contents">[Contents]</a>&nbsp;  &nbsp;<a href="chap2_mj.html">[Previous Chapter]</a>&nbsp;  &nbsp;<a href="chap4_mj.html">[Next Chapter]</a>&nbsp;  </div>


<div class="chlinkbot"><span class="chlink1">Goto Chapter: </span><a href="chap0_mj.html">Top</a>  <a href="chap1_mj.html">1</a>  <a href="chap2_mj.html">2</a>  <a href="chap3_mj.html">3</a>  <a href="chap4_mj.html">4</a>  <a href="chap5_mj.html">5</a>  <a href="chap6_mj.html">6</a>  <a href="chap7_mj.html">7</a>  <a href="chap8_mj.html">8</a>  <a href="chapBib_mj.html">Bib</a>  <a href="chapInd_mj.html">Ind</a>  </div>

<hr />
<p class="foot">generated by <a href="http://www.math.rwth-aachen.de/~Frank.Luebeck/GAPDoc">GAPDoc2HTML</a></p>
</body>
</html>
